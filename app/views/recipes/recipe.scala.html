@(recipe: Recipe, relatedRecipes: Seq[Recipe])(implicit request: RequestHeader)

@getWordFor(i: Int) = {
	@{i match {
		case 0 => {"first"}
		case 1 => {"second"}
		case 2 => {"third"}
		case _ => {"last"}
	}}
	
}

@main("NaturaHub") {

<body>

	<!-- MAIN -->
	<div id="main">
		<div class="wrapper cf">

			<!-- recipe display-->
			<div id="recipe-display" class="cf">

				<!-- project pager -->
				<div class="project-pager cf">
					<a class="previous-project" href="#">&#8592; Previous project</a>
					<a class="next-project" href="#">Next project &#8594;</a>
				</div>
				<!-- ENDS project pager -->

				<!-- project box -->
				<div id="project-box" class="cf">

					<!-- slider -->
					<div class="project-slider">
						<div class="flexslider">
							<ul class="slides">
								@for(photo <- recipe.photos){
									@if(photo.metadata.typeOf == "slider") {
										<li>
											<img src="@routes.Assets.at("img/tmp/"+photo.key)" alt="alt text" />
										</li>	
									}
								}
							</ul>
						</div>
					</div>
					<!-- ENDS slider -->

					<div class="info">
						<p>
							<strong>By </strong> @recipe.by
						</p>
						<p>
							<strong>Date </strong> @org.joda.time.format.ISODateTimeFormat.date().print(recipe.created)
						</p>
						<p>
							<a href="@routes.RecipeController.edit(recipe._id)" class="launch" >Edit Recipe</a>
						</p>
						<p>
							<a href="@routes.RecipeController.delete(recipe._id)" class="launch" >Delete Recipe</a>
						</p>
					</div>

					<!-- entry-content -->
					<div class="entry-content">

						<h2 class="heading">@recipe.name</h2>
						
						<!-- Ingredients -->
						<div class="toggle-trigger">Ingredients</div>
						<div class="toggle-container" style="display: none;">
							@for(i <- 0 to recipe.phases.length - 1) {
								<p>
									Phase @{i+1}: @recipe.phases(i).description
									<hr />
									@for(ing <- recipe.phases(i).ingredients) {
										<div>@ing</div>
									}
								</p>
							}
						</div>
						<!-- End of Ingredients -->
						<!-- Preparation Time -->
						<div class="toggle-trigger">Preparation Time</div>
						<div class="toggle-container" style="display: none;">
							@recipe.prepTime
						</div>
						<!-- End of Preparation Time -->
						<!-- Recipe yield -->
						<div class="toggle-trigger">Recipe yield</div>
						<div class="toggle-container" style="display: none;">
							@recipe.recipeYield
						</div>
						<!-- End of Recipe yield -->
						<!-- Directions -->
						<div class="toggle-trigger">Directions</div>
						<div class="toggle-container" style="display: none;">
							@recipe.directions
						</div>
						<!-- End of Directions -->
					</div>
					<!-- ENDS entry content -->

				</div>
				<!-- ENDS project box -->

				<!-- related -->
				<div class="related-projects">
					<h4 class="related-heading">Related recipes</h4>
					<div class="related-list cf">
						@for(relatedRecipe <- relatedRecipes) {
							<figure>
								<a href="@routes.RecipeController.get(relatedRecipe._id)" class="thumb"><img src="@routes.Assets.at("img/tmp/"+relatedRecipe.photos.find(_.metadata.typeOf == "slider").getOrElse(S3Photo.EMPTY).key)")" alt="Alt text" /></a>
								<a href="@routes.RecipeController.get(relatedRecipe._id)" class="heading">@relatedRecipe.name</a>
							</figure>
						}
					</div>
				</div>
				<!-- ENDS related -->

			</div>
			<!-- ENDS portfolio content-->

		</div><!-- ENDS WRAPPER -->
	</div>
	<!-- ENDS MAIN -->
</body>

}